(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],{12:function(e,t,c){},21:function(e,t,c){},33:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(10),a=c.n(r),s=c(14),i=c(3),o=c(6),l=c.n(o),j=c(9),u=c(4),d=c(2),b=function(e,t){return"MOVIE_NAME_CHANGE"===t.type?Object(d.a)(Object(d.a)({},e),{},{movieName:t.movieName}):e},m=(c(8),c(33),c(1)),h=function(e){return Object(m.jsx)("button",{type:"button",className:"".concat(e.className),onClick:e.onClick,children:e.children})},O=function(e){var t=Object(i.g)(),c=Object(n.useState)(""),r=Object(u.a)(c,2),a=r[0],s=r[1],o=function(e){var t=Object(n.useReducer)(b,e),c=Object(u.a)(t,2),r=c[0],a=c[1],s=Object(n.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"MOVIE_NAME_CHANGE",movieName:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return[r,s]}({movieName:""}),d=Object(u.a)(o,2),h=(d[0],d[1]),O=function(){var e=Object(j.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==c.charCode){e.next=4;break}return e.next=3,h(a);case 3:t("/movie-search/results/".concat(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"input-group mb-3 search__container",children:[Object(m.jsx)("span",{className:"input-group-text search_input",id:"inputGroup-sizing-default",children:e.tagName}),Object(m.jsx)("input",{type:"text",className:"form-control search_input","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",value:a,onInput:function(e){return s(e.target.value)},onKeyPress:O})]})},p=(c(21),function(){return Object(m.jsxs)("div",{className:"title container",children:[Object(m.jsx)("h2",{className:"display-1",children:"Movie Finder"}),Object(m.jsx)(O,{tagName:"Movie Name",activeSearch:"MOVIE"})]})}),v=(c(12),c(40)),x=function(e){var t=e.header,c=e.dropdown,r=e.headerCSS,a=Object(n.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1];return Object(m.jsxs)("div",{className:"box",children:[Object(m.jsxs)("h3",{className:"display-6 ".concat(r),children:[t,Object(m.jsx)(h,{className:"more__details",onClick:function(){o(!i)},children:Object(m.jsx)("i",{className:"fas fa-plus"})})]}),!!i&&c()]})},f=function(e){var t=e.Rated,c=e.Released,r=e.Runtime,a=e.Genre,s=e.Plot,i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],j=o[1],d=function(){j(!l)};return Object(m.jsx)(x,{header:"Movie Details",dropdown:function(){var e=s&&s.length>100?s.substring(0,97)+"...":s;return l&&(e=s),Object(m.jsxs)("div",{className:"modal__dropdown",children:[Object(m.jsx)("p",{children:"Rating: ".concat(t)}),Object(m.jsx)("p",{children:"Released: ".concat(c)}),Object(m.jsx)("p",{children:"Runtime: ".concat(r)}),Object(m.jsx)("p",{children:"Genre: ".concat(a)}),Object(m.jsxs)("p",{children:["Plot: ".concat(e)," ",Object(m.jsx)("a",{href:"#",className:"readMore",onClick:d,children:l?"Read Less":"Read More"})]})]})},headerCSS:"general_movie"})},N=function(e){var t=e.Director,c=e.Writer,n=e.Actors;return Object(m.jsx)(x,{header:"People Details",headerCSS:"people_header",dropdown:function(){return Object(m.jsxs)("div",{className:"modal__dropdown",children:[Object(m.jsx)("p",{children:"Directory: ".concat(t)}),Object(m.jsx)("p",{children:"Writer: ".concat(c)}),Object(m.jsx)("p",{children:"Actors: ".concat(n)})]})}})},g=function(e){var t=e.Language,c=e.Country;return Object(m.jsx)(x,{header:"Extra Movie Details",dropdown:function(){return Object(m.jsxs)("div",{className:"modal__dropdown",children:[Object(m.jsx)("p",{children:"Language: ".concat(t)}),Object(m.jsx)("p",{children:"Country: ".concat(c)})]})},headerCSS:"extra_movie_header"})},_=function(e){var t=e.Ratings,c=e.Awards;return Object(m.jsx)(x,{header:"Achievements",dropdown:function(){var e;return 0===t.length?t="N/A":e=Object(m.jsx)("ul",{children:t.map((function(e){e.key=t.indexOf(e);var c=e.Source,r=e.Value;return Object(m.jsx)(n.Fragment,{children:Object(m.jsxs)("li",{className:"ratings",children:[c,": ",r]})},e.key)}))}),Object(m.jsxs)("div",{className:"modal__dropdown",children:[Object(m.jsx)("p",{children:"Ratings:"}),e,Object(m.jsx)("p",{children:"Awards: ".concat(c)})]})},headerCSS:"achievements_header"})},y=function(e){var t=e.modalState,c=e.hideHandler,n=e.movieData,r=n.Title,a=n.Year,s={Title:r,Year:a,Rated:n.Rated,Released:n.Released,Runtime:n.Runtime,Genre:n.Genre,Plot:n.Plot,Poster:n.Poster},i={Director:n.Director,Writer:n.Writer,Actors:n.Actors},o={Language:n.Language,Country:n.Country},l={Ratings:n.Ratings,Awards:n.Awards};return Object(m.jsxs)(v.a,{show:t,onHide:c,children:[Object(m.jsxs)(v.a.Header,{className:"modal__header",children:[Object(m.jsx)(h,{className:"btn-close modal__close",onClick:c}),"".concat(r," (").concat(a,")")]}),Object(m.jsxs)(v.a.Body,{children:[Object(m.jsx)("img",{src:s.Poster,className:"modal__image"}),Object(m.jsx)(f,Object(d.a)({},s)),Object(m.jsx)(N,Object(d.a)({},i)),Object(m.jsx)(g,Object(d.a)({},o)),Object(m.jsx)(_,Object(d.a)({},l))]})]})},w=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useCallback)(function(){var e=Object(j.a)(l.a.mark((function e(t){var c,n,a,s,i,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,a=o.length>3&&void 0!==o[3]?o[3]:{},e.prev=3,e.next=6,fetch(t,{method:c,body:n,headers:a});case 6:return s=e.sent,e.next=9,s.json();case 9:return i=e.sent,0===Object.keys(i).length&&r("No movies found"),e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(3),e.t0;case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{error:c,clearError:function(){r(null)},sendRequest:a}},k=function(e){var t=e.title,c=e.image,r=e.year,a=e.imdbID,s=Object(n.useState)(!1),i=Object(u.a)(s,2),o=i[0],d=i[1],b=w(),O=(b.error,b.sendRequest),p=Object(n.useState)([]),v=Object(u.a)(p,2),x=v[0],f=v[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("/movie-search/results/movie/".concat(a));case 3:t=e.sent,f(t.movie),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(y,{modalState:o,hideHandler:function(){d(!1)},movieData:x}),Object(m.jsx)(h,{className:"movie-result",onClick:function(){d(!0)},children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{src:c,className:"card-img-top",alt:t}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("h4",{className:"card-title display-6",children:"".concat(t," (").concat(r,")")})})]})})]})},S=function(e){var t=e.movieName,c=Object(i.g)();return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("h3",{className:"display-4",children:'Showing results for "'.concat(t,'"')}),e.movies.map((function(e){return Object(m.jsx)("div",{className:"col-md-4 col-sm-6",children:Object(m.jsx)(k,{title:e.Title,year:e.Year,image:e.Poster,imdbID:e.imdbID})},e.imdbID)})),Object(m.jsx)(h,{className:"btn btn-primary back_to_search",onClick:function(){c("/")},children:"Back To Search"})]})})},C=function(){var e=Object(i.g)(),t=w().clearError;return Object(m.jsxs)("div",{className:"title container",children:[Object(m.jsx)("h1",{className:"display-1",children:"No movies found"}),Object(m.jsx)(h,{className:"btn btn-primary toggle__button",onClick:function(){e("/movie-search"),t()},children:"Back to Search"})]})},R=function(){var e=w(),t=e.error,c=e.sendRequest,r=Object(i.h)().movieName,a=Object(n.useState)([]),s=Object(u.a)(a,2),o=s[0],d=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/movie-search/results/".concat(r));case 3:t=e.sent,d(t.movies),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),t?Object(m.jsx)(C,{}):Object(m.jsx)(S,{movies:o,movieName:r})};var A=function(){return Object(m.jsx)(s.a,{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"movie-search",element:Object(m.jsx)(p,{})}),Object(m.jsx)(i.b,{path:"movie-search/results/:movieName",element:Object(m.jsx)(R,{})}),Object(m.jsx)(i.b,{path:"*",element:Object(m.jsx)(i.a,{replace:!0,to:"/movie-search"})})]})})};a.a.render(Object(m.jsx)(A,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.10f4ca68.chunk.js.map